---
import { fetchAirdrops, slugify } from "../lib/airdropApi.js";
const airdrops = await fetchAirdrops();

const get = (a, keys, fallback = "") =>
  keys.map(k => a?.[k]).find(v => v !== undefined && v !== null && String(v).trim() !== "") ?? fallback;

const TITLE = "AirdropAlpha | Airdrop 2026 | New Airdrop | Best Airdrop";
const DESC =
  "Discover new airdrops and the best crypto airdrop opportunities. AirdropAlpha lists verified airdrops with rewards, categories, and participation info.";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{TITLE}</title>
    <meta name="description" content={DESC} />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <link rel="canonical" href="https://airdropalpha.vercel.app/" />
  </head>

  <body style="background:#0f172a;color:#f1f5f9;font-family:Inter,system-ui,sans-serif;margin:0">
    <main style="max-width:1100px;margin:0 auto;padding:24px">
      <header style="display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:18px">
        <h1 style="margin:0;font-size:28px;font-weight:900">AirdropAlpha</h1>
        <a href="https://x.com/CryptoGoblin510" target="_blank" rel="noopener noreferrer"
           style="color:#cbd5e1;text-decoration:none;font-weight:700">
          X: @CryptoGoblin510
        </a>
      </header>

      <section style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px">
        {airdrops.map((a) => {
          const name  = get(a, ["Nom","Name","Project","Title"], "Unknown");
          const url   = get(a, ["URL","Url","Link"], "#");
          const cat   = get(a, ["Catégorie","Categorie","Category"], "");
          const reward= get(a, ["Récompense","Reward"], "");
          const score = get(a, ["Score"], "");
          const effort= get(a, ["Effort"], "");
          const type  = get(a, ["Type"], "");
          const slug  = slugify(name);

          return (
            <article style="background:#1e293b;border:1px solid #334155;border-radius:14px;padding:14px">
              <h2 style="margin:0 0 8px 0;font-size:18px">{name}</h2>

              <p style="margin:0 0 10px 0;color:#94a3b8;font-size:14px">
                {cat ? `Category: ${cat}` : ""}{cat && type ? " • " : ""}{type ? `Type: ${type}` : ""}
                {(cat || type) && reward ? " • " : ""}{reward ? `Reward: ${reward}` : ""}
                {score ? ` • Score: ${score}` : ""}
                {effort ? ` • Effort: ${effort}` : ""}
              </p>

              <div style="display:flex;gap:10px;flex-wrap:wrap">
                <a href={`/airdrop/${slug}/`} style="color:white;font-weight:800;text-decoration:none">Details →</a>
                <a href={url} target="_blank" rel="noopener noreferrer"
                   style="color:#cbd5e1;text-decoration:none">
                  Official →
                </a>
              </div>
            </article>
          );
        })}
      </section>

      <footer style="margin-top:22px;color:#94a3b8;font-size:14px;display:flex;gap:12px;flex-wrap:wrap">
        <a href="/about.html" style="color:#cbd5e1;text-decoration:none">About</a>
        <a href="/privacy.html" style="color:#cbd5e1;text-decoration:none">Privacy</a>
        <a href="/terms.html" style="color:#cbd5e1;text-decoration:none">Terms</a>
      </footer>
    </main>
  </body>
</html>
